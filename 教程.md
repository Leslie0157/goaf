# Fluent采空区流场模拟教程

## 2019.6.9 Fluent模拟的流程

### 为什么做这个教程？

- 把自己前段时间学习的心得记录一下
- 希望学弟学妹或者学长学姐能够通过这个教程少走弯路
- 毕业了，留下一份礼物

### 采空区模拟的流程

1. 建立几何模型（Ansys Design Modeler）
2. 划分网格（Ansys Mesh）
3. Fluent求解（Ansys Fluent + UDF自定义函数的设置）
4. CFD-Post分析结果（Ansys Results）

**Ansys软件平台建议装17.0以上的版本，最新的好像是19.0**

**千万不要把时间浪费在UDF环境变量的设置上**

**Markdown文件会传到Github上，[教程文件和代码](https://github.com/bbkgl/goaf)**

##  2019.6.9 DesignModeler几何建模

### 采空区几何建模的内容

- 采空区
- 工作面
- 进回风巷道

### 草图绘制

- Ctrl+按住鼠标滚轮移动图像
- 鼠标准轮可以移动视角
- 鼠标滚轮滚动就是缩放
- 在对应的坐标系下，绘制草图
- 修改边的长度
- 移动坐标系，在新的坐标系下绘制草图
- 尺寸标注和尺寸约束问题（constraints），大家可以自己去学习一下

### 例子参数

- 采空区（300 × 200 × 60，冒落带高度20m，裂隙带40米）
- 工作面（10 × 200 × 4）
- 巷道（20 × 4 × 3.5）

### 立体图绘制

- 拉伸操作，自己百度一下
- 切片操作的话，基于复制移动后的坐标系（平面）去切割几何体，生成多个几何体
- 拓展---布尔运算（一般是用在钻孔和注氮上）

## 2019.6.20 Mesh网格划分

> 参考[ANSYS workbench网格](https://www.bilibili.com/video/av21182764?from=search&seid=5245891783888294417 )

### 划分规则

- 工作面和巷道，网格尺寸为1m
- 冒落带，网格尺寸为5m
- 裂隙带，网格尺寸为15m

### 一些简单操作

- 查看网格划分的参数-----鼠标左键单机Mesh，展开statistics，结点数和网格数量在写论文的时候会用到
- 网格类型为六面体网格
- 边界区域的确定（Named Selection）

## 2019.6.23 Fluent求解参数的讲解

### 一些操作提醒

- General - Check 检查是否出现负体积
- General - Display 调整显示的信息
- 鼠标左键移动视角
- 按住鼠标滚轮
  - 从左上往右下框选是放大
  - 从右下往左上框选是缩小
- 移动操作鼠标点击----见视频说明
- 找到物体操作鼠标点击----见视频说明

### 参数设置

- 模型相关参数假设
  - 30 m³/min -- 假设所有的瓦斯涌出量都在采空区 **一定要会计算**
    - 90%在冒落带，27 m³/min， 2.685e-7
    - 10%在裂隙带，3 m³/min，1.5e-8
  - 2.1 m/s

- Models
  - Energy - on
  - Viscous - k_epsilon(2 eqn) - RNG - Stantard Fall In
  - Species - Species Transport - methane_air
- Materials - 默认
- Cell Zone Conditions --- 详见视频
  - 工作面、巷道基本不设置
  - 裂隙带设置瓦斯涌出量源项、氧气消耗速率源项、多孔介质参数、勾选层流
  - 冒落带设置瓦斯涌出量源项、氧气消耗速率源项、多孔介质参数
- Boundary Conditions
  - 入口边界
    - 设置进风巷的风速、
    - 组分的质量分数，记得21%是氧气的体积分数，氧气质量分数是23%
  - 出口边界 --- 设置为自然出流outflow

- Solution Controls  -- 收敛因子 ---建议改小一点
- Solution Initialization  -- 选择H开头的那个Hybrid
- Run Calculation -- 根据自己实际情况选择迭代次数

## 2019.6.30 UDF自定义函数的使用

### 怎么导入UDF

在Fluent界面中->User-Defined->f(x)(Functions)->Interpreted->Browse->根据路径选择自己的UDF文件

**注意：每次修改UDF文件都需要重新导入！！！**

### UDF中设置哪些参数

**主要是采空区中部分参数用到UDF**

- 粘性阻力
- 惯性阻力
- 空隙率
- 氧气源项中使用氧气消耗速率自定义函数

**采空区中所有区域都要设置，包括冒落带和裂隙带。**

## 2019.7.20 UDF自定义函数的使用

### UDF文件的编写和修改

- 空隙率
- 粘性阻力（与空隙率相关）
- 惯性阻力（与空隙率相关）
- 耗氧速率（只和当前位置的氧气浓度有关，**正相关**）

### 关于空隙率三维图

- python绘制，需要自己安装一些库
- 只需要修改`y_l`和`x_l`两个变量即可

### 关于用到的一些公式

- 耗氧速率
- 空隙率



## 联系方式

如果有疑问可以联系QQ：1248703394

